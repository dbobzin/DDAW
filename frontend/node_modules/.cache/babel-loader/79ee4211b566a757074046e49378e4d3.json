{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\dbobzin\\\\OneDrive - IL State University\\\\Desktop\\\\final_Project\\\\MERN-Auth-Tutorial-lesson-1\\\\MERN-Auth-Tutorial-lesson-1\\\\frontend\\\\src\\\\components\\\\WorkoutForm.js\",\n    _s = $RefreshSig$();\n\nimport { useState } from \"react\";\nimport { useWorkoutsContext } from \"../hooks/useWorkoutsContext\";\nimport { useAuthContext } from \"../hooks/useAuthContext\"; // import { DropDownList } from \"@progress/kendo-react-dropdowns\";\n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst WorkoutForm = () => {\n  _s();\n\n  const {\n    dispatch\n  } = useWorkoutsContext();\n  const {\n    user\n  } = useAuthContext();\n  const [title, setTitle] = useState(\"\");\n  const [load, setLoad] = useState(\"\");\n  const [reps, setReps] = useState(\"\");\n  const [plan, setPlan] = useState([\" Select a plan: \"]); // const [plan, setPlan] = [25, 29, 35, 40];\n\n  const data = [{\n    id: 1,\n    label: \"Gold\",\n    type: \"25\"\n  }, {\n    id: 2,\n    label: \"platinum w/ rainx\",\n    type: \"29\"\n  }, {\n    id: 3,\n    label: \"elite\",\n    type: \"35\"\n  }, {\n    id: 4,\n    label: \"elite w/ ceramic\",\n    type: \"40\"\n  }, {\n    id: 5,\n    label: \"best package includes everything\",\n    type: \"40\"\n  }];\n  const [error, setError] = useState(null);\n  const [emptyFields, setEmptyFields] = useState([]);\n\n  const handlePlanChange = e => {\n    setPlan(e.target.value);\n\n    const handleSubmit = async e => {\n      e.preventDefault();\n\n      if (!user) {\n        setError(\"You must be logged in\");\n        return;\n      }\n\n      const workout = {\n        title,\n        load,\n        reps,\n        plan\n      };\n      const response = await fetch(\"/api/workouts\", {\n        method: \"POST\",\n        body: JSON.stringify(workout),\n        headers: {\n          \"Content-Type\": \"application/json\",\n          Authorization: `Bearer ${user.token}`\n        }\n      });\n      const json = await response.json();\n\n      if (!response.ok) {\n        setError(json.error);\n        setEmptyFields(json.emptyFields);\n      }\n\n      if (response.ok) {\n        setTitle(\"\");\n        setLoad(\"\");\n        setReps(\"\");\n        setPlan(\"\");\n        setError(null);\n        setEmptyFields([]);\n        console.log(\"new workout added\", json);\n        dispatch({\n          type: \"CREATE_WORKOUT\",\n          payload: json\n        });\n      }\n    };\n\n    return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: /*#__PURE__*/_jsxDEV(\"form\", {\n        className: \"create\",\n        onSubmit: handleSubmit,\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"Add a New Workout\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 87,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"Excersize Title:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          onChange: e => setTitle(e.target.value),\n          value: title,\n          className: emptyFields.includes(\"title\") ? \"error\" : \"\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 89,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"Load (in kg):\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 95,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"number\",\n          onChange: e => setLoad(e.target.value),\n          value: load,\n          className: emptyFields.includes(\"load\") ? \"error\" : \"\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 96,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"Reps:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 102,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"number\",\n          onChange: e => setReps(e.target.value),\n          value: reps,\n          className: emptyFields.includes(\"reps\") ? \"error\" : \"\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 103,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"Plan: \"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 109,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          // type=\"text\"\n          onChange: e => setPlan(e.target.value),\n          value: plan,\n          className: emptyFields.includes(\"plan\") ? \"error\" : \"\",\n          ...data.map(plan => /*#__PURE__*/_jsxDEV(\"option\", {\n            value: plan.value,\n            children: plan.label\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 116,\n            columnNumber: 15\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 110,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [plan, /*#__PURE__*/_jsxDEV(\"select\", {\n            onChange: handlePlanChange,\n            children: [/*#__PURE__*/_jsxDEV(\"option\", {\n              value: \" Select a plan: \",\n              children: \" -- Select a fruit -- \"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 123,\n              columnNumber: 15\n            }, this), data.map(plan => /*#__PURE__*/_jsxDEV(\"option\", {\n              value: plan.value,\n              children: plan.label\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 126,\n              columnNumber: 17\n            }, this))]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 122,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 119,\n          columnNumber: 11\n        }, this), \"Pick your favorite flavor:\", /*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"grapefruit\",\n          children: \"Grapefruit\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 131,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"lime\",\n          children: \"Lime\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 132,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"coconut\",\n          children: \"Coconut\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 133,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"mango\",\n          children: \"Mango\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 134,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          children: \"Add Workout\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 136,\n          columnNumber: 11\n        }, this), error && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"error\",\n          children: error\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 137,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 9\n      }, this)\n    }, void 0, false);\n  };\n};\n\n_s(WorkoutForm, \"Ij5ekC4x2UcB5d4EeFVtN76Fx6Q=\", false, function () {\n  return [useWorkoutsContext, useAuthContext];\n});\n\n_c = WorkoutForm;\nexport default WorkoutForm; // {/* <div>\n//     {plan}\n//     <select onChange={handlePlanChange}>\n//       <option value=\" Select a plan: \"> -- Select a fruit -- </option>\n//             {/* Mapping through each fruit object in our fruits array\n//           and returning an option element with the appropriate attributes / values.\n//          */}\n//          {plan.map((plan) => <option value={plan.value}>{plan.label}</option>)}\n//          </select>\n//          </div> */}\n\nvar _c;\n\n$RefreshReg$(_c, \"WorkoutForm\");","map":{"version":3,"names":["useState","useWorkoutsContext","useAuthContext","WorkoutForm","dispatch","user","title","setTitle","load","setLoad","reps","setReps","plan","setPlan","data","id","label","type","error","setError","emptyFields","setEmptyFields","handlePlanChange","e","target","value","handleSubmit","preventDefault","workout","response","fetch","method","body","JSON","stringify","headers","Authorization","token","json","ok","console","log","payload","includes","map"],"sources":["C:/Users/dbobzin/OneDrive - IL State University/Desktop/final_Project/MERN-Auth-Tutorial-lesson-1/MERN-Auth-Tutorial-lesson-1/frontend/src/components/WorkoutForm.js"],"sourcesContent":["import { useState } from \"react\";\nimport { useWorkoutsContext } from \"../hooks/useWorkoutsContext\";\nimport { useAuthContext } from \"../hooks/useAuthContext\";\n// import { DropDownList } from \"@progress/kendo-react-dropdowns\";\n\nconst WorkoutForm = () => {\n  const { dispatch } = useWorkoutsContext();\n  const { user } = useAuthContext();\n\n  const [title, setTitle] = useState(\"\");\n  const [load, setLoad] = useState(\"\");\n  const [reps, setReps] = useState(\"\");\n  const [plan, setPlan] = useState([\" Select a plan: \"]);\n  // const [plan, setPlan] = [25, 29, 35, 40];\n  const data = [\n    {\n      id: 1,\n      label: \"Gold\",\n      type: \"25\",\n    },\n    {\n      id: 2,\n      label: \"platinum w/ rainx\",\n      type: \"29\",\n    },\n    {\n      id: 3,\n      label: \"elite\",\n      type: \"35\",\n    },\n    {\n      id: 4,\n      label: \"elite w/ ceramic\",\n      type: \"40\",\n    },\n    {\n      id: 5,\n      label: \"best package includes everything\",\n      type: \"40\",\n    },\n  ];\n  const [error, setError] = useState(null);\n  const [emptyFields, setEmptyFields] = useState([]);\n\n  const handlePlanChange = (e) => {\n    setPlan(e.target.value);\n\n    const handleSubmit = async (e) => {\n      e.preventDefault();\n\n      if (!user) {\n        setError(\"You must be logged in\");\n        return;\n      }\n\n      const workout = { title, load, reps, plan };\n\n      const response = await fetch(\"/api/workouts\", {\n        method: \"POST\",\n        body: JSON.stringify(workout),\n        headers: {\n          \"Content-Type\": \"application/json\",\n          Authorization: `Bearer ${user.token}`,\n        },\n      });\n      const json = await response.json();\n\n      if (!response.ok) {\n        setError(json.error);\n        setEmptyFields(json.emptyFields);\n      }\n      if (response.ok) {\n        setTitle(\"\");\n        setLoad(\"\");\n        setReps(\"\");\n        setPlan(\"\");\n        setError(null);\n        setEmptyFields([]);\n        console.log(\"new workout added\", json);\n        dispatch({ type: \"CREATE_WORKOUT\", payload: json });\n      }\n    };\n\n    return (\n      <>\n        <form className=\"create\" onSubmit={handleSubmit}>\n          <h3>Add a New Workout</h3>\n          <label>Excersize Title:</label>\n          <input\n            type=\"text\"\n            onChange={(e) => setTitle(e.target.value)}\n            value={title}\n            className={emptyFields.includes(\"title\") ? \"error\" : \"\"}\n          />\n          <label>Load (in kg):</label>\n          <input\n            type=\"number\"\n            onChange={(e) => setLoad(e.target.value)}\n            value={load}\n            className={emptyFields.includes(\"load\") ? \"error\" : \"\"}\n          />\n          <label>Reps:</label>\n          <input\n            type=\"number\"\n            onChange={(e) => setReps(e.target.value)}\n            value={reps}\n            className={emptyFields.includes(\"reps\") ? \"error\" : \"\"}\n          />\n          <label>Plan: </label>\n          <input\n            // type=\"text\"\n            onChange={(e) => setPlan(e.target.value)}\n            value={plan}\n            className={emptyFields.includes(\"plan\") ? \"error\" : \"\"}\n            {...data.map((plan) => (\n              <option value={plan.value}>{plan.label}</option>\n            ))}\n          />\n          <div>\n            {plan}\n\n            <select onChange={handlePlanChange}>\n              <option value=\" Select a plan: \"> -- Select a fruit -- </option>\n\n              {data.map((plan) => (\n                <option value={plan.value}>{plan.label}</option>\n              ))}\n            </select>\n          </div>\n          Pick your favorite flavor:\n          <option value=\"grapefruit\">Grapefruit</option>\n          <option value=\"lime\">Lime</option>\n          <option value=\"coconut\">Coconut</option>\n          <option value=\"mango\">Mango</option>\n          {/* <input type=\"submit\" value=\"Submit\" /> */}\n          <button>Add Workout</button>\n          {error && <div className=\"error\">{error}</div>}\n        </form>\n      </>\n    );\n  };\n};\n\nexport default WorkoutForm;\n\n// {/* <div>\n//     {plan}\n\n//     <select onChange={handlePlanChange}>\n//       <option value=\" Select a plan: \"> -- Select a fruit -- </option>\n//             {/* Mapping through each fruit object in our fruits array\n//           and returning an option element with the appropriate attributes / values.\n//          */}\n//          {plan.map((plan) => <option value={plan.value}>{plan.label}</option>)}\n//          </select>\n//          </div> */}\n"],"mappings":";;;AAAA,SAASA,QAAT,QAAyB,OAAzB;AACA,SAASC,kBAAT,QAAmC,6BAAnC;AACA,SAASC,cAAT,QAA+B,yBAA/B,C,CACA;;;;;AAEA,MAAMC,WAAW,GAAG,MAAM;EAAA;;EACxB,MAAM;IAAEC;EAAF,IAAeH,kBAAkB,EAAvC;EACA,MAAM;IAAEI;EAAF,IAAWH,cAAc,EAA/B;EAEA,MAAM,CAACI,KAAD,EAAQC,QAAR,IAAoBP,QAAQ,CAAC,EAAD,CAAlC;EACA,MAAM,CAACQ,IAAD,EAAOC,OAAP,IAAkBT,QAAQ,CAAC,EAAD,CAAhC;EACA,MAAM,CAACU,IAAD,EAAOC,OAAP,IAAkBX,QAAQ,CAAC,EAAD,CAAhC;EACA,MAAM,CAACY,IAAD,EAAOC,OAAP,IAAkBb,QAAQ,CAAC,CAAC,kBAAD,CAAD,CAAhC,CAPwB,CAQxB;;EACA,MAAMc,IAAI,GAAG,CACX;IACEC,EAAE,EAAE,CADN;IAEEC,KAAK,EAAE,MAFT;IAGEC,IAAI,EAAE;EAHR,CADW,EAMX;IACEF,EAAE,EAAE,CADN;IAEEC,KAAK,EAAE,mBAFT;IAGEC,IAAI,EAAE;EAHR,CANW,EAWX;IACEF,EAAE,EAAE,CADN;IAEEC,KAAK,EAAE,OAFT;IAGEC,IAAI,EAAE;EAHR,CAXW,EAgBX;IACEF,EAAE,EAAE,CADN;IAEEC,KAAK,EAAE,kBAFT;IAGEC,IAAI,EAAE;EAHR,CAhBW,EAqBX;IACEF,EAAE,EAAE,CADN;IAEEC,KAAK,EAAE,kCAFT;IAGEC,IAAI,EAAE;EAHR,CArBW,CAAb;EA2BA,MAAM,CAACC,KAAD,EAAQC,QAAR,IAAoBnB,QAAQ,CAAC,IAAD,CAAlC;EACA,MAAM,CAACoB,WAAD,EAAcC,cAAd,IAAgCrB,QAAQ,CAAC,EAAD,CAA9C;;EAEA,MAAMsB,gBAAgB,GAAIC,CAAD,IAAO;IAC9BV,OAAO,CAACU,CAAC,CAACC,MAAF,CAASC,KAAV,CAAP;;IAEA,MAAMC,YAAY,GAAG,MAAOH,CAAP,IAAa;MAChCA,CAAC,CAACI,cAAF;;MAEA,IAAI,CAACtB,IAAL,EAAW;QACTc,QAAQ,CAAC,uBAAD,CAAR;QACA;MACD;;MAED,MAAMS,OAAO,GAAG;QAAEtB,KAAF;QAASE,IAAT;QAAeE,IAAf;QAAqBE;MAArB,CAAhB;MAEA,MAAMiB,QAAQ,GAAG,MAAMC,KAAK,CAAC,eAAD,EAAkB;QAC5CC,MAAM,EAAE,MADoC;QAE5CC,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAeN,OAAf,CAFsC;QAG5CO,OAAO,EAAE;UACP,gBAAgB,kBADT;UAEPC,aAAa,EAAG,UAAS/B,IAAI,CAACgC,KAAM;QAF7B;MAHmC,CAAlB,CAA5B;MAQA,MAAMC,IAAI,GAAG,MAAMT,QAAQ,CAACS,IAAT,EAAnB;;MAEA,IAAI,CAACT,QAAQ,CAACU,EAAd,EAAkB;QAChBpB,QAAQ,CAACmB,IAAI,CAACpB,KAAN,CAAR;QACAG,cAAc,CAACiB,IAAI,CAAClB,WAAN,CAAd;MACD;;MACD,IAAIS,QAAQ,CAACU,EAAb,EAAiB;QACfhC,QAAQ,CAAC,EAAD,CAAR;QACAE,OAAO,CAAC,EAAD,CAAP;QACAE,OAAO,CAAC,EAAD,CAAP;QACAE,OAAO,CAAC,EAAD,CAAP;QACAM,QAAQ,CAAC,IAAD,CAAR;QACAE,cAAc,CAAC,EAAD,CAAd;QACAmB,OAAO,CAACC,GAAR,CAAY,mBAAZ,EAAiCH,IAAjC;QACAlC,QAAQ,CAAC;UAAEa,IAAI,EAAE,gBAAR;UAA0ByB,OAAO,EAAEJ;QAAnC,CAAD,CAAR;MACD;IACF,CAlCD;;IAoCA,oBACE;MAAA,uBACE;QAAM,SAAS,EAAC,QAAhB;QAAyB,QAAQ,EAAEZ,YAAnC;QAAA,wBACE;UAAA;QAAA;UAAA;UAAA;UAAA;QAAA,QADF,eAEE;UAAA;QAAA;UAAA;UAAA;UAAA;QAAA,QAFF,eAGE;UACE,IAAI,EAAC,MADP;UAEE,QAAQ,EAAGH,CAAD,IAAOhB,QAAQ,CAACgB,CAAC,CAACC,MAAF,CAASC,KAAV,CAF3B;UAGE,KAAK,EAAEnB,KAHT;UAIE,SAAS,EAAEc,WAAW,CAACuB,QAAZ,CAAqB,OAArB,IAAgC,OAAhC,GAA0C;QAJvD;UAAA;UAAA;UAAA;QAAA,QAHF,eASE;UAAA;QAAA;UAAA;UAAA;UAAA;QAAA,QATF,eAUE;UACE,IAAI,EAAC,QADP;UAEE,QAAQ,EAAGpB,CAAD,IAAOd,OAAO,CAACc,CAAC,CAACC,MAAF,CAASC,KAAV,CAF1B;UAGE,KAAK,EAAEjB,IAHT;UAIE,SAAS,EAAEY,WAAW,CAACuB,QAAZ,CAAqB,MAArB,IAA+B,OAA/B,GAAyC;QAJtD;UAAA;UAAA;UAAA;QAAA,QAVF,eAgBE;UAAA;QAAA;UAAA;UAAA;UAAA;QAAA,QAhBF,eAiBE;UACE,IAAI,EAAC,QADP;UAEE,QAAQ,EAAGpB,CAAD,IAAOZ,OAAO,CAACY,CAAC,CAACC,MAAF,CAASC,KAAV,CAF1B;UAGE,KAAK,EAAEf,IAHT;UAIE,SAAS,EAAEU,WAAW,CAACuB,QAAZ,CAAqB,MAArB,IAA+B,OAA/B,GAAyC;QAJtD;UAAA;UAAA;UAAA;QAAA,QAjBF,eAuBE;UAAA;QAAA;UAAA;UAAA;UAAA;QAAA,QAvBF,eAwBE;UACE;UACA,QAAQ,EAAGpB,CAAD,IAAOV,OAAO,CAACU,CAAC,CAACC,MAAF,CAASC,KAAV,CAF1B;UAGE,KAAK,EAAEb,IAHT;UAIE,SAAS,EAAEQ,WAAW,CAACuB,QAAZ,CAAqB,MAArB,IAA+B,OAA/B,GAAyC,EAJtD;UAAA,GAKM7B,IAAI,CAAC8B,GAAL,CAAUhC,IAAD,iBACX;YAAQ,KAAK,EAAEA,IAAI,CAACa,KAApB;YAAA,UAA4Bb,IAAI,CAACI;UAAjC;YAAA;YAAA;YAAA;UAAA,QADE;QALN;UAAA;UAAA;UAAA;QAAA,QAxBF,eAiCE;UAAA,WACGJ,IADH,eAGE;YAAQ,QAAQ,EAAEU,gBAAlB;YAAA,wBACE;cAAQ,KAAK,EAAC,kBAAd;cAAA;YAAA;cAAA;cAAA;cAAA;YAAA,QADF,EAGGR,IAAI,CAAC8B,GAAL,CAAUhC,IAAD,iBACR;cAAQ,KAAK,EAAEA,IAAI,CAACa,KAApB;cAAA,UAA4Bb,IAAI,CAACI;YAAjC;cAAA;cAAA;cAAA;YAAA,QADD,CAHH;UAAA;YAAA;YAAA;YAAA;UAAA,QAHF;QAAA;UAAA;UAAA;UAAA;QAAA,QAjCF,6CA6CE;UAAQ,KAAK,EAAC,YAAd;UAAA;QAAA;UAAA;UAAA;UAAA;QAAA,QA7CF,eA8CE;UAAQ,KAAK,EAAC,MAAd;UAAA;QAAA;UAAA;UAAA;UAAA;QAAA,QA9CF,eA+CE;UAAQ,KAAK,EAAC,SAAd;UAAA;QAAA;UAAA;UAAA;UAAA;QAAA,QA/CF,eAgDE;UAAQ,KAAK,EAAC,OAAd;UAAA;QAAA;UAAA;UAAA;UAAA;QAAA,QAhDF,eAkDE;UAAA;QAAA;UAAA;UAAA;UAAA;QAAA,QAlDF,EAmDGE,KAAK,iBAAI;UAAK,SAAS,EAAC,OAAf;UAAA,UAAwBA;QAAxB;UAAA;UAAA;UAAA;QAAA,QAnDZ;MAAA;QAAA;QAAA;QAAA;MAAA;IADF,iBADF;EAyDD,CAhGD;AAiGD,CAxID;;GAAMf,W;UACiBF,kB,EACJC,c;;;KAFbC,W;AA0IN,eAAeA,WAAf,C,CAEA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA"},"metadata":{},"sourceType":"module"}