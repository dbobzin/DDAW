{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/dbobzin/OneDrive - IL State University/Desktop/final/frontend/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/dbobzin/OneDrive - IL State University/Desktop/final/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/dbobzin/OneDrive - IL State University/Desktop/final/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useState}from\"react\";import{useWorkoutsContext}from\"../hooks/useWorkoutsContext\";import{useAuthContext}from\"../hooks/useAuthContext\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var WorkoutForm=function WorkoutForm(){var _useWorkoutsContext=useWorkoutsContext(),dispatch=_useWorkoutsContext.dispatch;var _useAuthContext=useAuthContext(),user=_useAuthContext.user;var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),title=_useState2[0],setTitle=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),car=_useState4[0],setCar=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),load=_useState6[0],setLoad=_useState6[1];var _useState7=useState(\"\"),_useState8=_slicedToArray(_useState7,2),reps=_useState8[0],setReps=_useState8[1];var _useState9=useState(\"\"),_useState10=_slicedToArray(_useState9,2),price=_useState10[0],setPrice=_useState10[1];var _useState11=useState(null),_useState12=_slicedToArray(_useState11,2),error=_useState12[0],setError=_useState12[1];var _useState13=useState([]),_useState14=_slicedToArray(_useState13,2),emptyFields=_useState14[0],setEmptyFields=_useState14[1];var handleSubmit=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(e){var workout,response,json;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:e.preventDefault();if(user){_context.next=4;break;}setError(\"You must be logged in\");return _context.abrupt(\"return\");case 4:workout={title:title,car:car,load:load,reps:reps,price:price};_context.next=7;return fetch(\"/api/workouts\",{method:\"POST\",body:JSON.stringify(workout),headers:{\"Content-Type\":\"application/json\",Authorization:\"Bearer \".concat(user.token)}});case 7:response=_context.sent;_context.next=10;return response.json();case 10:json=_context.sent;if(!response.ok){setError(json.error);setEmptyFields(json.emptyFields);}if(response.ok){setTitle(\"\");setCar(\"\");setLoad(\"\");setReps(\"\");setPrice(\"\");setError(null);setEmptyFields([]);dispatch({type:\"CREATE_WORKOUT\",payload:json});}case 13:case\"end\":return _context.stop();}}},_callee);}));return function handleSubmit(_x){return _ref.apply(this,arguments);};}();var currentDate=new Date().toJSON().slice(0,10);return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(\"form\",{className:\"create\",onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Add a Carwash Plan\"}),/*#__PURE__*/_jsx(\"label\",{children:\"Name: \"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",onChange:function onChange(e){return setTitle(e.target.value);},value:title,className:emptyFields.includes(\"title\")?\"error\":\"\"}),/*#__PURE__*/_jsx(\"label\",{children:\"Type of car:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",onChange:function onChange(e){return setCar(e.target.value);},value:car,className:emptyFields.includes(\"car\")?\"error\":\"\"}),/*#__PURE__*/_jsx(\"label\",{children:\"Wash Plan price you would like:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",onChange:function onChange(e){return setLoad(e.target.value);},value:load,className:emptyFields.includes(\"load\")?\"error\":\"\"}),/*#__PURE__*/_jsx(\"label\",{children:\"Duration (in months):\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",onChange:function onChange(e){return setReps(e.target.value);},value:reps,className:emptyFields.includes(\"reps\")?\"error\":\"\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"label\",{children:\"Choose a carwash plan:\"}),/*#__PURE__*/_jsxs(\"select\",{type:\"text\",value:price,onChange:function onChange(e){return setPrice(e.target.value);},className:emptyFields.includes(\"price\")?\"error\":\"\",children:[/*#__PURE__*/_jsx(\"option\",{}),/*#__PURE__*/_jsx(\"option\",{value:\"$25\",children:\"$25 - Gold\"}),/*#__PURE__*/_jsx(\"option\",{value:\"$29\",children:\"$29 - Platinum\"}),/*#__PURE__*/_jsx(\"option\",{value:\"$35\",children:\"$35 - Elite\"}),/*#__PURE__*/_jsx(\"option\",{value:\"$40\",children:\"$40 - Elite w/ Ceramic\"})]}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"button\",{children:\"Add Carwash\"}),error&&/*#__PURE__*/_jsx(\"div\",{className:\"error\",children:error}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Current date: \",currentDate]})]})});};export default WorkoutForm;","map":{"version":3,"names":["useState","useWorkoutsContext","useAuthContext","WorkoutForm","dispatch","user","title","setTitle","car","setCar","load","setLoad","reps","setReps","price","setPrice","error","setError","emptyFields","setEmptyFields","handleSubmit","e","preventDefault","workout","fetch","method","body","JSON","stringify","headers","Authorization","token","response","json","ok","type","payload","currentDate","Date","toJSON","slice","target","value","includes"],"sources":["C:/Users/dbobzin/OneDrive - IL State University/Desktop/final/frontend/src/components/WorkoutForm.js"],"sourcesContent":["import { useState } from \"react\";\nimport { useWorkoutsContext } from \"../hooks/useWorkoutsContext\";\nimport { useAuthContext } from \"../hooks/useAuthContext\";\n\nconst WorkoutForm = () => {\n  const { dispatch } = useWorkoutsContext();\n  const { user } = useAuthContext();\n\n  const [title, setTitle] = useState(\"\");\n  const [car, setCar] = useState(\"\");\n  const [load, setLoad] = useState(\"\");\n  const [reps, setReps] = useState(\"\");\n  const [price, setPrice] = useState(\"\");\n  const [error, setError] = useState(null);\n  const [emptyFields, setEmptyFields] = useState([]);\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n\n    if (!user) {\n      setError(\"You must be logged in\");\n      return;\n    }\n\n    const workout = { title, car, load, reps, price };\n\n    const response = await fetch(\"/api/workouts\", {\n      method: \"POST\",\n      body: JSON.stringify(workout),\n      headers: {\n        \"Content-Type\": \"application/json\",\n        Authorization: `Bearer ${user.token}`,\n      },\n    });\n    const json = await response.json();\n\n    if (!response.ok) {\n      setError(json.error);\n      setEmptyFields(json.emptyFields);\n    }\n    if (response.ok) {\n      setTitle(\"\");\n      setCar(\"\");\n      setLoad(\"\");\n      setReps(\"\");\n      setPrice(\"\");\n      setError(null);\n      setEmptyFields([]);\n      dispatch({ type: \"CREATE_WORKOUT\", payload: json });\n    }\n  };\n  let currentDate = new Date().toJSON().slice(0, 10);\n\n  return (\n    <>\n      <form className=\"create\" onSubmit={handleSubmit}>\n        <h3>Add a Carwash Plan</h3>\n        <label>Name: </label>\n        <input\n          type=\"text\"\n          onChange={(e) => setTitle(e.target.value)}\n          value={title}\n          className={emptyFields.includes(\"title\") ? \"error\" : \"\"}\n        />\n\n        <label>Type of car:</label>\n        <input\n          type=\"text\"\n          onChange={(e) => setCar(e.target.value)}\n          value={car}\n          className={emptyFields.includes(\"car\") ? \"error\" : \"\"}\n        />\n        <label>Wash Plan price you would like:</label>\n        <input\n          type=\"number\"\n          onChange={(e) => setLoad(e.target.value)}\n          value={load}\n          className={emptyFields.includes(\"load\") ? \"error\" : \"\"}\n        />\n        <label>Duration (in months):</label>\n        <input\n          type=\"number\"\n          onChange={(e) => setReps(e.target.value)}\n          value={reps}\n          className={emptyFields.includes(\"reps\") ? \"error\" : \"\"}\n        />\n        <br />\n        {/* <h1>{price}</h1> */}\n        <label>Choose a carwash plan:</label>\n        <select\n          type=\"text\"\n          value={price}\n          onChange={(e) => setPrice(e.target.value)}\n          className={emptyFields.includes(\"price\") ? \"error\" : \"\"}\n        >\n          <option></option>\n          <option value=\"$25\">$25 - Gold</option>\n          <option value=\"$29\">$29 - Platinum</option>\n          <option value=\"$35\">$35 - Elite</option>\n          <option value=\"$40\">$40 - Elite w/ Ceramic</option>\n        </select>\n\n        <br />\n        <br />\n        <button>Add Carwash</button>\n        {error && <div className=\"error\">{error}</div>}\n        <p>Current date: {currentDate}</p>\n      </form>\n    </>\n  );\n};\n\nexport default WorkoutForm;\n"],"mappings":"oeAAA,OAASA,QAAT,KAAyB,OAAzB,CACA,OAASC,kBAAT,KAAmC,6BAAnC,CACA,OAASC,cAAT,KAA+B,yBAA/B,C,6IAEA,GAAMC,YAAW,CAAG,QAAdA,YAAc,EAAM,CACxB,wBAAqBF,kBAAkB,EAAvC,CAAQG,QAAR,qBAAQA,QAAR,CACA,oBAAiBF,cAAc,EAA/B,CAAQG,IAAR,iBAAQA,IAAR,CAEA,cAA0BL,QAAQ,CAAC,EAAD,CAAlC,wCAAOM,KAAP,eAAcC,QAAd,eACA,eAAsBP,QAAQ,CAAC,EAAD,CAA9B,yCAAOQ,GAAP,eAAYC,MAAZ,eACA,eAAwBT,QAAQ,CAAC,EAAD,CAAhC,yCAAOU,IAAP,eAAaC,OAAb,eACA,eAAwBX,QAAQ,CAAC,EAAD,CAAhC,yCAAOY,IAAP,eAAaC,OAAb,eACA,eAA0Bb,QAAQ,CAAC,EAAD,CAAlC,0CAAOc,KAAP,gBAAcC,QAAd,gBACA,gBAA0Bf,QAAQ,CAAC,IAAD,CAAlC,2CAAOgB,KAAP,gBAAcC,QAAd,gBACA,gBAAsCjB,QAAQ,CAAC,EAAD,CAA9C,2CAAOkB,WAAP,gBAAoBC,cAApB,gBAEA,GAAMC,aAAY,4FAAG,iBAAOC,CAAP,8IACnBA,CAAC,CAACC,cAAF,GADmB,GAGdjB,IAHc,yBAIjBY,QAAQ,CAAC,uBAAD,CAAR,CAJiB,wCAQbM,OARa,CAQH,CAAEjB,KAAK,CAALA,KAAF,CAASE,GAAG,CAAHA,GAAT,CAAcE,IAAI,CAAJA,IAAd,CAAoBE,IAAI,CAAJA,IAApB,CAA0BE,KAAK,CAALA,KAA1B,CARG,uBAUIU,MAAK,CAAC,eAAD,CAAkB,CAC5CC,MAAM,CAAE,MADoC,CAE5CC,IAAI,CAAEC,IAAI,CAACC,SAAL,CAAeL,OAAf,CAFsC,CAG5CM,OAAO,CAAE,CACP,eAAgB,kBADT,CAEPC,aAAa,kBAAYzB,IAAI,CAAC0B,KAAjB,CAFN,CAHmC,CAAlB,CAVT,QAUbC,QAVa,sCAkBAA,SAAQ,CAACC,IAAT,EAlBA,SAkBbA,IAlBa,eAoBnB,GAAI,CAACD,QAAQ,CAACE,EAAd,CAAkB,CAChBjB,QAAQ,CAACgB,IAAI,CAACjB,KAAN,CAAR,CACAG,cAAc,CAACc,IAAI,CAACf,WAAN,CAAd,CACD,CACD,GAAIc,QAAQ,CAACE,EAAb,CAAiB,CACf3B,QAAQ,CAAC,EAAD,CAAR,CACAE,MAAM,CAAC,EAAD,CAAN,CACAE,OAAO,CAAC,EAAD,CAAP,CACAE,OAAO,CAAC,EAAD,CAAP,CACAE,QAAQ,CAAC,EAAD,CAAR,CACAE,QAAQ,CAAC,IAAD,CAAR,CACAE,cAAc,CAAC,EAAD,CAAd,CACAf,QAAQ,CAAC,CAAE+B,IAAI,CAAE,gBAAR,CAA0BC,OAAO,CAAEH,IAAnC,CAAD,CAAR,CACD,CAjCkB,uDAAH,kBAAZb,aAAY,4CAAlB,CAmCA,GAAIiB,YAAW,CAAG,GAAIC,KAAJ,GAAWC,MAAX,GAAoBC,KAApB,CAA0B,CAA1B,CAA6B,EAA7B,CAAlB,CAEA,mBACE,sCACE,cAAM,SAAS,CAAC,QAAhB,CAAyB,QAAQ,CAAEpB,YAAnC,wBACE,0CADF,cAEE,iCAFF,cAGE,cACE,IAAI,CAAC,MADP,CAEE,QAAQ,CAAE,kBAACC,CAAD,QAAOd,SAAQ,CAACc,CAAC,CAACoB,MAAF,CAASC,KAAV,CAAf,EAFZ,CAGE,KAAK,CAAEpC,KAHT,CAIE,SAAS,CAAEY,WAAW,CAACyB,QAAZ,CAAqB,OAArB,EAAgC,OAAhC,CAA0C,EAJvD,EAHF,cAUE,uCAVF,cAWE,cACE,IAAI,CAAC,MADP,CAEE,QAAQ,CAAE,kBAACtB,CAAD,QAAOZ,OAAM,CAACY,CAAC,CAACoB,MAAF,CAASC,KAAV,CAAb,EAFZ,CAGE,KAAK,CAAElC,GAHT,CAIE,SAAS,CAAEU,WAAW,CAACyB,QAAZ,CAAqB,KAArB,EAA8B,OAA9B,CAAwC,EAJrD,EAXF,cAiBE,0DAjBF,cAkBE,cACE,IAAI,CAAC,QADP,CAEE,QAAQ,CAAE,kBAACtB,CAAD,QAAOV,QAAO,CAACU,CAAC,CAACoB,MAAF,CAASC,KAAV,CAAd,EAFZ,CAGE,KAAK,CAAEhC,IAHT,CAIE,SAAS,CAAEQ,WAAW,CAACyB,QAAZ,CAAqB,MAArB,EAA+B,OAA/B,CAAyC,EAJtD,EAlBF,cAwBE,gDAxBF,cAyBE,cACE,IAAI,CAAC,QADP,CAEE,QAAQ,CAAE,kBAACtB,CAAD,QAAOR,QAAO,CAACQ,CAAC,CAACoB,MAAF,CAASC,KAAV,CAAd,EAFZ,CAGE,KAAK,CAAE9B,IAHT,CAIE,SAAS,CAAEM,WAAW,CAACyB,QAAZ,CAAqB,MAArB,EAA+B,OAA/B,CAAyC,EAJtD,EAzBF,cA+BE,aA/BF,cAiCE,iDAjCF,cAkCE,gBACE,IAAI,CAAC,MADP,CAEE,KAAK,CAAE7B,KAFT,CAGE,QAAQ,CAAE,kBAACO,CAAD,QAAON,SAAQ,CAACM,CAAC,CAACoB,MAAF,CAASC,KAAV,CAAf,EAHZ,CAIE,SAAS,CAAExB,WAAW,CAACyB,QAAZ,CAAqB,OAArB,EAAgC,OAAhC,CAA0C,EAJvD,wBAME,iBANF,cAOE,eAAQ,KAAK,CAAC,KAAd,wBAPF,cAQE,eAAQ,KAAK,CAAC,KAAd,4BARF,cASE,eAAQ,KAAK,CAAC,KAAd,yBATF,cAUE,eAAQ,KAAK,CAAC,KAAd,oCAVF,GAlCF,cA+CE,aA/CF,cAgDE,aAhDF,cAiDE,uCAjDF,CAkDG3B,KAAK,eAAI,YAAK,SAAS,CAAC,OAAf,UAAwBA,KAAxB,EAlDZ,cAmDE,sCAAkBqB,WAAlB,GAnDF,GADF,EADF,CAyDD,CA1GD,CA4GA,cAAelC,YAAf"},"metadata":{},"sourceType":"module"}